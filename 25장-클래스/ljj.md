# 클래스

클래스는 프로토타입 기반의 객체 생성 패턴의 단순한 문법적 설탕이라고 보기보다는 **새로운 객체 생성 매커니즘**으로 보는 것이 좀 더 합당

클래스는 일급 객체

- 무명의 리털럴로 생성할 수 있다(런타임 생성 가능)
- 변수나 자료구조(객체, 배열 등)에 저장 가능
- 함수의 매개변수에게 전달 가능
- 함수의 반환값으로 사용할 수 있음

### 클래스 몸체에서 사용 가능한 메서드

- `constructor(생성자)`
- 프로토타입 메서드
- 정적 메서드

런타임 이전에 평가되어 함수 객체를 생성한다. -> 이 때 constructor가 호출된다.

constructor + 프로토타입이 함께 생성됨

단, 클래스는 클래스 정의 이전에 참조가 불가능하다. let, const와 같이 TDZ빠져, 선언 되기 이전에 사용하면 reference에러가 생한다.

## 인스턴스 생성

new 사용 여부에 따라서 `일반 함수`로 호출되거나 `인스턴스 생성`을 위한 생성자 함수로 호출되지만 클래스는 인스턴스를 생성하는 것이 유일한 존재이유이므로 new연산자를 반드시 함께 호출해야한다. (애초에 없이 호출하면 타입 에러가 발생)

## 메서드

### constructor

인스턴스를 생성 + 초기화 하기 위한 특수한 메서드

constructor는 메서드로 해석되는게 아니라, 클래스가 평가되어 생성한 함수 객체 코드의 일부로 평가된다.
즉, 클래스가 정의가 평가되면 constructor의 기술된 동작을 함는 함수 객체가 생성된다.

- 2개의 constructor를 사용할 수 없다.
- constructor는 생략이 가능한데, 생략하면, 암묵적으로 빈 constructor가 정의된다.

```js
class Person {
  constructor(name) {
    this.name = name;

    return {};
  }
}

const me = new Person('Lee');
console.log(me);
```

명시적으로 원시값을 반환하면, 원시값 반화는 무시되고, 암묵적으로 this가 반환된다. this가 아닌 값을 반환하는 것은 클래스의 기본 동작을 훼손한다.

### 프로토타입 메서드

prototype 프로퍼티를 붙이지 않더라도, 기본적으로 프로토타입 메서드가 된다.
